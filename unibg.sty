\ProvidesPackage{unibg}

\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage[backend=biber]{biblatex}
\usepackage[english]{babel}
\usepackage[hidelinks]{hyperref}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{caption}
\usepackage{csquotes}
\usepackage{import}

% ----------------------- Bibliography
\addbibresource{bibliography.bib}

% ----------------------- Graphics
\graphicspath{{./images/}}

% ----------------------- Page style
\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[CE,CO]{}
  \fancyfoot[LE,RO]{\thepage}
}
\pagestyle{plain}

% ----------------------- Geometry and measures
\setlength{\parskip}{2pt}
\geometry{margin=3cm}
\renewcommand{\baselinestretch}{1.5}
\setcounter{tocdepth}{4}

% ----------------------- New commands
\newcommand{\emptypage}{
  \clearpage
  \thispagestyle{empty}
  \pagenumbering{gobble}
  \mbox{}
}
\newcommand{\toc}{
  \clearpage
  \pagenumbering{Roman}
  \setlength{\parskip}{4pt}
  \tableofcontents
  \setlength{\parskip}{2pt}
}

% ----------------------- Title page
\makeatletter
\def\subtitle#1{\gdef\@subtitle{#1}}
\def\department#1{\gdef\@department{#1}}
\def\class#1{\gdef\@class{#1}}
\def\advisor#1{\gdef\@advisor{#1}}
\def\coadvisor#1{\gdef\@coadvisor{#1}}
\def\studentid#1{\gdef\@studentid{#1}}
\def\year#1{\gdef\@year{#1}}

\renewcommand{\maketitle}{
  \begin{titlepage}
    \begin{center}
      \large
      UNIVERSITÃ€ DEGLI STUDI DI BERGAMO \\
      \vspace{0.5cm}
      \normalsize
      \@department \\
      Classe \@class

      \vfill

      \Huge
      \textbf{\@title}

      \LARGE
      \@subtitle
    \end{center}

    \vfill

    \begin{flushleft}
      Relatore \\
      \@advisor
    \end{flushleft}

    \ifx\@coadvisor\undefined
    \else
    \begin{flushleft}
      Correlatore \\
      \@coadvisor
    \end{flushleft}
    \fi

    \begin{flushright}
      Tesi di Laurea \\
      \@author \\
      Matricola n.~\@studentid
    \end{flushright}

    \vfill

    \begin{center}
      ANNO ACCADEMICO \@year
    \end{center}
  \end{titlepage}
}
\makeatother
